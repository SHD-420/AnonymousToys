"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[696],{6846:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(8222),l=a(7810),n={key:0,class:"z-20 bg-white my-8 shadow-xl rounded-md overflow-hidden max-w-lg h-max"},o={class:"flex justify-end"};const r={name:"BaseModal",props:{shouldShow:{type:Boolean,default:!1}},emits:["close"],setup:function(e,t){var a=t.emit,r=e,u=(0,s.iH)(!1),d=(0,s.iH)(0);return(0,s.YP)((function(){return r.shouldShow}),(function(e){e&&(d.value=document.body.scrollHeight)})),function(t,r){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"#app-modals"},[(0,s.Wm)(s.uT,{name:"modal",onAfterEnter:r[2]||(r[2]=function(e){return u.value=!0})},{default:(0,s.w5)((function(){return[e.shouldShow?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"bg-gradient-to-b from-transparent to-slate-100 grid w-full justify-center z-10",style:(0,s.j5)({height:"".concat(d.value,"px")})},[(0,s.Wm)(s.uT,{name:"modal",onAfterLeave:r[1]||(r[1]=function(e){return a("close")})},{default:(0,s.w5)((function(){return[u.value?((0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",o,[(0,s._)("button",{class:"text-xl text-slate-900 p-4",onClick:r[0]||(r[0]=function(e){return u.value=!1})},[(0,s.Wm)((0,s.SU)(l.GN),{icon:"fa fa-times"})])]),(0,s.WI)(t.$slots,"default")])):(0,s.kq)("",!0)]})),_:3})],4)):(0,s.kq)("",!0)]})),_:3})])}}}},5047:(e,t,a)=>{a.d(t,{Z:()=>f});var s=a(8222),l=a(7810),n={key:0,class:"flex flex-col items-center"},o=(0,s.Uk)(" Mostrando "),r=(0,s.Uk)(" de "),u=(0,s.Uk)(" elementos. "),d={class:"flex space-x-4 items-center text-slate-900"},i=["disabled"],c={class:"space-x-2"},p=["disabled","onClick"],h=["disabled"];const f={name:"BasePagination",props:{paginationData:{type:Object,default:null}},emits:["refetch-requested"],setup:function(e,t){var a=t.emit,f=e,m=function(e){a("refetch-requested",e)};return function(t,a){return e.paginationData&&1!==e.paginationData.last_page?((0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("p",null,[o,(0,s._)("strong",null,(0,s.zw)(e.paginationData.per_page),1),r,(0,s._)("strong",null,(0,s.zw)(e.paginationData.total),1),u]),(0,s._)("div",d,[(0,s._)("button",{class:"rotate-180 px-4 py-2 hover:bg-slate-200 rounded-md disabled:opacity-50",onClick:a[0]||(a[0]=function(e){return t=f.paginationData.links[0].url,void m(t);var t}),disabled:1===e.paginationData.current_page},[(0,s.Wm)((0,s.SU)(l.GN),{icon:"fa-chevron-right"})],8,i),(0,s._)("div",c,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.paginationData.links.slice(1,-1),(function(t){return(0,s.wg)(),(0,s.iD)("button",{key:t.url,class:(0,s.C_)(["text-xl hover:underline",{"font-bold":t.active}]),disabled:!t.url,onClick:function(e){return m(t.url)}},(0,s.zw)(t.label)+" "+(0,s.zw)(t.label!==e.paginationData.last_page.toString()&&t.url?",":""),11,p)})),128))]),(0,s._)("button",{disabled:e.paginationData.current_page===e.paginationData.last_page,class:"px-4 py-2 hover:bg-slate-200 rounded-md disabled:opacity-50",onClick:a[1]||(a[1]=function(e){return t=f.paginationData.links.slice(-1)[0].url,void m(t);var t})},[(0,s.Wm)((0,s.SU)(l.GN),{icon:"fa-chevron-right"})],8,h)])])):(0,s.kq)("",!0)}}}},4696:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ee});var s=a(8222),l=a(5047),n=a(8299),o=a(7810),r=a(6846),u=a(4318),d=a(4174),i={class:"px-4 pb-8 max-w-xs"},c=(0,s._)("p",{class:"text-slate-900 mb-8 text-center"}," Are you sure you want to delete that message? ",-1),p=["disabled"],h={key:0,class:"h-4 block w-4 border-2 my-1 rounded-full border-b-transparent border-white animate-spin mx-auto"},f={key:1};const m={name:"RemoveMessageModal",props:{msgId:{type:Number,default:null}},emits:["cancel","success"],setup:function(e,t){var a=t.emit,l=e,n=(0,s.iH)(!1),o=(0,u.ZP)();function m(){l.msgId&&(n.value=!0,o.authDelete("/api/contact/".concat(l.msgId)).then((function(e){"success"===e.data.message&&(a("success"),(0,d.c7)(d.j_.CONTACT_MESSAGE_DELETED))})).catch((function(e){console.log(e.response),(0,d.c7)(d.j_.GENERAL_ERROR)})).finally((function(){return n.value=!1})))}return function(t,l){return(0,s.wg)(),(0,s.j4)(r.Z,{shouldShow:!!e.msgId,onClose:l[0]||(l[0]=function(e){return a("cancel")})},{default:(0,s.w5)((function(){return[(0,s._)("div",i,[c,(0,s._)("button",{onClick:m,class:"bg-amber-500 py-2 text-white rounded-md w-full",disabled:n.value,type:"submit"},[n.value?((0,s.wg)(),(0,s.iD)("span",h)):((0,s.wg)(),(0,s.iD)("span",f," Yes "))],8,p)])]})),_:1},8,["shouldShow"])}}};var v={key:0,class:"flex justify-center w-80"},w=[(0,s._)("div",{class:"w-8 h-8 border-4 border-amber-500 border-b-transparent rounded-full animate-spin"},null,-1)],x={key:1,class:"p-4 max-w-lg text-slate-900"},b={class:"text-2xl mb-2 font-semibold"},g={class:"mb-4"},_={class:"flex items-center space-x-2"},y=(0,s._)("span",{class:"text-sm text-slate-500"},"Name:",-1),k={class:"flex items-center space-x-2"},D=(0,s._)("span",{class:"text-sm text-slate-500"},"Email:",-1),S={class:"flex items-center space-x-2"},C=(0,s._)("span",{class:"text-sm text-slate-500"},"Date:",-1);const U={name:"ViewMessageModal",props:{shouldShow:{type:Boolean,default:!1},msgId:{type:Number,default:null}},emits:["update:shouldShow"],setup:function(e,t){var a=t.emit,l=e,n=(0,s.iH)(!0),o=(0,u.ZP)(),d=(0,s.iH)(null);return(0,s.YP)((function(){return l.shouldShow}),(function(e){var t;l.msgId&&l.msgId!==(null===(t=d.value)||void 0===t?void 0:t.id)&&e&&(n.value=!0,o.authGet("/api/contact/".concat(l.msgId)).then((function(e){d.value=e.data,n.value=!1})))})),function(t,l){return(0,s.wg)(),(0,s.j4)(r.Z,{"should-show":e.shouldShow,onClose:l[0]||(l[0]=function(e){return a("update:shouldShow",!1)})},{default:(0,s.w5)((function(){return[n.value?((0,s.wg)(),(0,s.iD)("div",v,w)):((0,s.wg)(),(0,s.iD)("div",x,[(0,s._)("h4",b,(0,s.zw)(d.value.subject),1),(0,s._)("p",g,(0,s.zw)(d.value.message),1),(0,s._)("p",_,[y,(0,s._)("span",null,(0,s.zw)(d.value.name),1)]),(0,s._)("p",k,[D,(0,s._)("span",null,(0,s.zw)(d.value.email),1)]),(0,s._)("p",S,[C,(0,s._)("span",null,(0,s.zw)(d.value.created_at),1)])]))]})),_:1},8,["should-show"])}}};var z={key:0},j=(0,s._)("h5",{class:"text-xl text-slate-900 text-left mx-12"},"Customer mails:",-1),q={key:0},H={class:"flex justify-end mb-4 space-x-4 px-12"},N=["disabled"],W=(0,s.Uk)(" Remove "),I=["disabled"],R=(0,s.Uk)(" View "),G={class:"grid mb-8"},P=(0,s._)("div",{class:"col-start-1 row-start-1 h-16 bg-slate-200"},null,-1),Z={class:"mx-12 col-start-1 row-start-1"},E=(0,s._)("tr",{class:"text-slate-900 h-16 px-12"},[(0,s._)("th",null,"ID"),(0,s._)("th",{class:"text-left px-4"},"Name"),(0,s._)("th",{class:"text-left px-4"},"Email"),(0,s._)("th",{class:"text-left px-4"},"Received on"),(0,s._)("th",{class:"text-left px-4"},"Subject")],-1),M=["onClick"],O={class:"w-12 text-center py-2"},T={key:1,class:"text-slate-900"},Y={class:"px-4 py-2"},A={class:"px-4 py-2"},B={class:"px-4 py-2"},K={class:"px-4 py-2"},V={key:1,class:"bg-gray-200 py-2 my-4 text-center text-slate-900 rounded-md mx-12"};const L={name:"ContactMessagesTable",props:{messages:{type:Object,default:null}},emits:["refetch-requested"],setup:function(e,t){var a=t.emit,r=(0,s.iH)(null),u=(0,s.iH)(!1),d=(0,s.iH)(!1);function i(){d.value=!1,r.value=null,a("refetch-requested")}return(0,s.YP)([u,d],(function(e){e.some((function(e){return e}))&&scrollTo({top:0,behavior:"smooth"})})),function(t,c){var p,h;return e.messages?((0,s.wg)(),(0,s.iD)("div",z,[j,e.messages.data.length?((0,s.wg)(),(0,s.iD)("div",q,[(0,s._)("div",H,[(0,s._)("button",{class:"rounded-md shadow-lg px-4 py-2 text-red-600 disabled:opacity-50",disabled:null===r.value,onClick:c[0]||(c[0]=function(e){return d.value=!0})},[W,(0,s.Wm)((0,s.SU)(o.GN),{icon:"fa fa-times"})],8,N),(0,s._)("button",{class:"rounded-md shadow-lg px-4 py-2 text-slate-500 disabled:opacity-50",disabled:null===r.value,onClick:c[1]||(c[1]=function(e){return u.value=!0})},[R,(0,s.Wm)((0,s.SU)(o.GN),{icon:"fa fa-expand"})],8,I)]),(0,s._)("div",G,[P,(0,s._)("table",Z,[E,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.messages.data,(function(e,t){return(0,s.wg)(),(0,s.iD)("tr",{key:t,class:(0,s.C_)(["hover:bg-slate-100 cursor-pointer border-b",r.value===e?"border-transparent bg-slate-100 shadow rounded":"border-amber-500"]),onClick:function(t){return r.value=e}},[(0,s._)("td",O,[r.value===e?((0,s.wg)(),(0,s.j4)((0,s.SU)(o.GN),{key:0,class:"text-slate-500",icon:"fa fa-check-square"})):((0,s.wg)(),(0,s.iD)("span",T,(0,s.zw)(e.id),1))]),(0,s._)("td",Y,(0,s.zw)(e.name),1),(0,s._)("td",A,(0,s.zw)(e.email),1),(0,s._)("td",B,(0,s.zw)((0,s.SU)(n.p)(e.created_at)),1),(0,s._)("td",K,(0,s.zw)(e.subject),1)],10,M)})),128))])])])):((0,s.wg)(),(0,s.iD)("p",V," No se encontraron mensajes. ")),(0,s.Wm)(l.Z,{"pagination-data":e.messages,onRefetchRequested:c[2]||(c[2]=function(e){return a("refetch-requested",e)})},null,8,["pagination-data"]),(0,s.Wm)(U,{"should-show":u.value,"onUpdate:should-show":c[3]||(c[3]=function(e){return u.value=e}),"msg-id":null===(p=r.value)||void 0===p?void 0:p.id},null,8,["should-show","msg-id"]),(0,s.Wm)(m,{"msg-id":null===(h=r.value)||void 0===h?void 0:h.id,"should-show":d.value,"onUpdate:should-show":c[4]||(c[4]=function(e){return d.value=e}),onSuccess:i},null,8,["msg-id","should-show"])])):(0,s.kq)("",!0)}}};var $={key:0,class:"px-4 py-8 w-80"},F={class:"text-slate-500 mb-2"},Q={class:"text-slate-900"},J=["disabled"],X={key:0,class:"h-4 block w-4 border-2 my-1 rounded-full border-b-transparent border-white animate-spin mx-auto"},ee={key:1};const te={name:"UpdateOrderStatusModal",props:{shouldShow:{type:Boolean,default:!1},order:{type:Object,default:null}},emits:["update:shouldShow","success"],setup:function(e,t){var a=t.emit,l=e,n=(0,s.iH)(!1),o=(0,s.Fl)((function(){var e;switch(null===(e=l.order)||void 0===e?void 0:e.status){case"paid":return{value:"shipped",message:"This action will notify the user that their order has been shipped."};case"shipped":return{value:"delivered",message:"Confirm that order is delivered. This action will delete the order from database."};default:return null}})),d=(0,u.ZP)();function i(){l.order&&!n.value&&(n.value=!0,d.authPost("/api/order/update/".concat(l.order.id)).then((function(e){n.value=!1,"success"===e.data.message&&a("success")})))}return function(t,l){return(0,s.wg)(),(0,s.j4)(r.Z,{"should-show":e.shouldShow,onClose:l[0]||(l[0]=function(e){return a("update:shouldShow",!1)})},{default:(0,s.w5)((function(){return[e.order&&(0,s.SU)(o)?((0,s.wg)(),(0,s.iD)("div",$,[(0,s._)("p",F,' Update order status to "'+(0,s.zw)((0,s.SU)(o).value)+'"? ',1),(0,s._)("p",Q,(0,s.zw)((0,s.SU)(o).message),1),(0,s._)("button",{class:"bg-amber-500 py-2 mt-8 text-white rounded-md w-full",disabled:n.value,type:"button",onClick:i},[n.value?((0,s.wg)(),(0,s.iD)("span",X)):((0,s.wg)(),(0,s.iD)("span",ee," Confirm "))],8,J)])):(0,s.kq)("",!0)]})),_:1},8,["should-show"])}}};var ae={key:0,class:"py-8 flex justify-center w-80"},se=[(0,s._)("div",{class:"w-8 h-8 border-4 border-amber-500 border-b-transparent rounded-full animate-spin"},null,-1)],le={key:1,class:"px-4 py-8 max-w-lg"},ne={class:"mb-4"},oe=(0,s._)("p",{class:"text-slate-500"},"Order placed on:",-1),re={class:"text-2xl text-slate-900"},ue=(0,s._)("p",{class:"text-gray-500"},"Products:",-1),de=(0,s._)("tr",null,[(0,s._)("th",{class:"text-left px-4 py-2"},"Id"),(0,s._)("th",{class:"text-left px-4 py-2"},"Title"),(0,s._)("th",{class:"text-left px-4 py-2"},"Price"),(0,s._)("th",{class:"text-left px-4 py-2"},"Quantity")],-1),ie={class:"py-2 px-4 border-amber-500 border-y"},ce={class:"py-2 px-4 border-amber-500 border-y"},pe={class:"py-2 px-4 border-amber-500 border-y"},he={class:"py-2 px-4 border-amber-500 border-y"};const fe={name:"ViewOrderModal",props:{shouldShow:{type:Boolean,default:!1},orderId:{type:Number,default:null}},emits:["update:shouldShow"],setup:function(e,t){var a=t.emit,l=e,o=(0,s.iH)(!0),d=(0,u.ZP)(),i=(0,s.iH)(null);return(0,s.YP)((function(){return l.shouldShow}),(function(e){var t;l.orderId&&l.orderId!==(null===(t=i.value)||void 0===t?void 0:t.id)&&e&&(o.value=!0,d.get("/api/order/".concat(l.orderId)).then((function(e){i.value=e.data,o.value=!1})))})),function(t,l){return(0,s.wg)(),(0,s.j4)(r.Z,{"should-show":e.shouldShow,onClose:l[0]||(l[0]=function(e){return a("update:shouldShow",!1)})},{default:(0,s.w5)((function(){return[o.value?((0,s.wg)(),(0,s.iD)("div",ae,se)):((0,s.wg)(),(0,s.iD)("div",le,[(0,s._)("div",ne,[oe,(0,s._)("h4",re,(0,s.zw)((0,s.SU)(n.p)(i.value.created_at)),1)]),ue,(0,s._)("table",null,[de,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.value.order_items,(function(e,t){return(0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",ie,(0,s.zw)(e.product.id),1),(0,s._)("td",ce,(0,s.zw)(e.product.title),1),(0,s._)("td",pe,"$"+(0,s.zw)(e.product.price),1),(0,s._)("td",he,(0,s.zw)(e.quantity),1)])})),128))])]))]})),_:1},8,["should-show"])}}};var me={key:0},ve=(0,s._)("h5",{class:"text-xl text-slate-900 text-left mx-12"},"Orders:",-1),we={key:0},xe={class:"flex justify-end mb-4 space-x-4 px-12"},be=["disabled"],ge=(0,s.Uk)(" Update Status "),_e=["disabled"],ye=(0,s.Uk)(" View "),ke={class:"grid mb-8"},De=(0,s._)("div",{class:"col-start-1 row-start-1 h-16 bg-slate-200"},null,-1),Se={class:"mx-12 col-start-1 row-start-1"},Ce=(0,s._)("tr",{class:"text-slate-900 h-16 px-12"},[(0,s._)("th",null,"ID"),(0,s._)("th",{class:"text-left px-4"},"Price"),(0,s._)("th",{class:"text-left px-4"},"Created On"),(0,s._)("th",{class:"text-left px-4"},"Email"),(0,s._)("th",null,"Status")],-1),Ue=["onClick"],ze={class:"w-12 text-center py-2"},je={key:1,class:"text-slate-900"},qe={class:"px-4 py-2"},He={class:"px-4 py-2"},Ne={class:"px-4 py-2"},We={class:"px-4 py-2 capitalize"},Ie={key:1,class:"bg-gray-200 py-2 my-4 text-center text-slate-900 rounded-md mx-12"};const Re={name:"OrdersTable",props:{orders:{type:Object,default:null}},emits:["refetch-requested"],setup:function(e,t){var a=t.emit,r=(0,s.iH)(null),u=(0,s.iH)(!1),d=(0,s.iH)(!1);function i(){d.value=!1,r.value=null,a("refetch-requested")}return function(t,c){var p;return e.orders?((0,s.wg)(),(0,s.iD)("div",me,[ve,e.orders.data.length?((0,s.wg)(),(0,s.iD)("div",we,[(0,s._)("div",xe,[(0,s._)("button",{class:"rounded-md shadow-lg px-4 py-2 text-amber-500 disabled:opacity-50",disabled:null===r.value,onClick:c[0]||(c[0]=function(e){return d.value=!0})},[ge,(0,s.Wm)((0,s.SU)(o.GN),{icon:"fa fa-pen"})],8,be),(0,s._)("button",{class:"rounded-md shadow-lg px-4 py-2 text-slate-500 disabled:opacity-50",disabled:null===r.value,onClick:c[1]||(c[1]=function(e){return u.value=!0})},[ye,(0,s.Wm)((0,s.SU)(o.GN),{icon:"fa fa-expand"})],8,_e)]),(0,s._)("div",ke,[De,(0,s._)("table",Se,[Ce,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.orders.data,(function(e,t){return(0,s.wg)(),(0,s.iD)("tr",{key:t,class:(0,s.C_)(["hover:bg-slate-100 cursor-pointer border-b",r.value===e?"border-transparent bg-slate-100 shadow rounded":"border-amber-500"]),onClick:function(t){return r.value=e}},[(0,s._)("td",ze,[r.value===e?((0,s.wg)(),(0,s.j4)((0,s.SU)(o.GN),{key:0,class:"text-slate-500",icon:"fa fa-check-square"})):((0,s.wg)(),(0,s.iD)("span",je,(0,s.zw)(e.id),1))]),(0,s._)("td",qe,(0,s.zw)((0,s.SU)(n.T)(e.total_price)),1),(0,s._)("td",He,(0,s.zw)((0,s.SU)(n.p)(e.created_at)),1),(0,s._)("td",Ne,(0,s.zw)(e.user.email),1),(0,s._)("td",We,(0,s.zw)(e.status),1)],10,Ue)})),128))])])])):((0,s.wg)(),(0,s.iD)("p",Ie," No se encontraron pedidos. ")),(0,s.Wm)(l.Z,{"pagination-data":e.orders,onRefetchRequested:c[2]||(c[2]=function(e){return a("refetch-requested",e)})},null,8,["pagination-data"]),(0,s.Wm)(fe,{"order-id":null===(p=r.value)||void 0===p?void 0:p.id,"should-show":u.value,"onUpdate:should-show":c[3]||(c[3]=function(e){return u.value=e})},null,8,["order-id","should-show"]),(0,s.Wm)(te,{order:r.value,"should-show":d.value,"onUpdate:should-show":c[4]||(c[4]=function(e){return d.value=e}),onSuccess:i},null,8,["order","should-show"])])):(0,s.kq)("",!0)}}};var Ge={class:"mt-8 py-8 w-11/12 lg:w-3/4 mx-auto bg-white rounded-md shadow"},Pe=(0,s._)("h4",{class:"font-semibold text-2xl mb-12 px-12"}," Customer Service Manager ",-1),Ze=(0,s._)("div",{class:"py-4"},null,-1);const Ee={name:"CustomerServiceManager",setup:function(e){var t=(0,s.iH)(null),a=(0,s.iH)(null),l=(0,u.ZP)();function n(e){l.authGet(null!=e?e:"/api/order/all").then((function(e){t.value=e.data}))}function o(e){l.authGet(null!=e?e:"/api/contact/all").then((function(e){a.value=e.data}))}return n(),o(),function(e,l){return(0,s.wg)(),(0,s.iD)("div",Ge,[Pe,(0,s.Wm)(Re,{orders:t.value,onRefetchRequested:n},null,8,["orders"]),Ze,(0,s.Wm)(L,{messages:a.value,onRefetchRequested:o},null,8,["messages"])])}}}}}]);