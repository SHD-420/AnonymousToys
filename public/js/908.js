"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[908],{6846:(e,t,a)=>{a.d(t,{Z:()=>o});var l=a(8222),n=a(7810),r={key:0,class:"z-20 bg-white my-8 shadow-xl rounded-md overflow-hidden max-w-lg h-max"},s={class:"flex justify-end"};const o={name:"BaseModal",props:{shouldShow:{type:Boolean,default:!1}},emits:["close"],setup:function(e,t){var a=t.emit,o=e,u=(0,l.iH)(!1),d=(0,l.iH)(0);return(0,l.YP)((function(){return o.shouldShow}),(function(e){e&&(d.value=document.body.scrollHeight)})),function(t,o){return(0,l.wg)(),(0,l.j4)(l.lR,{to:"#app-modals"},[(0,l.Wm)(l.uT,{name:"modal",onAfterEnter:o[2]||(o[2]=function(e){return u.value=!0})},{default:(0,l.w5)((function(){return[e.shouldShow?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"bg-gradient-to-b from-transparent to-slate-100 grid w-full justify-center z-10",style:(0,l.j5)({height:"".concat(d.value,"px")})},[(0,l.Wm)(l.uT,{name:"modal",onAfterLeave:o[1]||(o[1]=function(e){return a("close")})},{default:(0,l.w5)((function(){return[u.value?((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",s,[(0,l._)("button",{class:"text-xl text-slate-900 p-4",onClick:o[0]||(o[0]=function(e){return u.value=!1})},[(0,l.Wm)((0,l.SU)(n.GN),{icon:"fa fa-times"})])]),(0,l.WI)(t.$slots,"default")])):(0,l.kq)("",!0)]})),_:3})],4)):(0,l.kq)("",!0)]})),_:3})])}}}},5047:(e,t,a)=>{a.d(t,{Z:()=>h});var l=a(8222),n=a(7810),r={key:0,class:"flex flex-col items-center"},s=(0,l.Uk)(" Mostrando "),o=(0,l.Uk)(" de "),u=(0,l.Uk)(" elementos. "),d={class:"flex space-x-4 items-center text-slate-900"},i=["disabled"],c={class:"space-x-2"},p=["disabled","onClick"],f=["disabled"];const h={name:"BasePagination",props:{paginationData:{type:Object,default:null}},emits:["refetch-requested"],setup:function(e,t){var a=t.emit,h=e,w=function(e){a("refetch-requested",e)};return function(t,a){return e.paginationData&&1!==e.paginationData.last_page?((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("p",null,[s,(0,l._)("strong",null,(0,l.zw)(e.paginationData.per_page),1),o,(0,l._)("strong",null,(0,l.zw)(e.paginationData.total),1),u]),(0,l._)("div",d,[(0,l._)("button",{class:"rotate-180 px-4 py-2 hover:bg-slate-200 rounded-md disabled:opacity-50",onClick:a[0]||(a[0]=function(e){return t=h.paginationData.links[0].url,void w(t);var t}),disabled:1===e.paginationData.current_page},[(0,l.Wm)((0,l.SU)(n.GN),{icon:"fa-chevron-right"})],8,i),(0,l._)("div",c,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.paginationData.links.slice(1,-1),(function(t){return(0,l.wg)(),(0,l.iD)("button",{key:t.url,class:(0,l.C_)(["text-xl hover:underline",{"font-bold":t.active}]),disabled:!t.url,onClick:function(e){return w(t.url)}},(0,l.zw)(t.label)+" "+(0,l.zw)(t.label!==e.paginationData.last_page.toString()&&t.url?",":""),11,p)})),128))]),(0,l._)("button",{disabled:e.paginationData.current_page===e.paginationData.last_page,class:"px-4 py-2 hover:bg-slate-200 rounded-md disabled:opacity-50",onClick:a[1]||(a[1]=function(e){return t=h.paginationData.links.slice(-1)[0].url,void w(t);var t})},[(0,l.Wm)((0,l.SU)(n.GN),{icon:"fa-chevron-right"})],8,f)])])):(0,l.kq)("",!0)}}}},3908:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var l=a(8222),n=a(5047),r=a(8299),s=a(7810),o=a(6846),u=a(4318),d={key:0,class:"px-4 py-8 w-80"},i={class:"text-slate-500 mb-2"},c={class:"text-slate-900"},p=["disabled"],f={key:0,class:"h-4 block w-4 border-2 my-1 rounded-full border-b-transparent border-white animate-spin mx-auto"},h={key:1};const w={name:"UpdateOrderStatusModal",props:{shouldShow:{type:Boolean,default:!1},order:{type:Object,default:null}},emits:["update:shouldShow","success"],setup:function(e,t){var a=t.emit,n=e,r=(0,l.iH)(!1),s=(0,l.Fl)((function(){var e;switch(null===(e=n.order)||void 0===e?void 0:e.status){case"paid":return{value:"shipped",message:"This action will notify the user that their order has been shipped."};case"shipped":return{value:"delivered",message:"Confirm that order is delivered. This action will delete the order from database."};default:return null}})),w=(0,u.ZP)();function v(){n.order&&!r.value&&(r.value=!0,w.authPost("/api/order/update/".concat(n.order.id)).then((function(e){r.value=!1,"success"===e.data.message&&a("success")})))}return function(t,n){return(0,l.wg)(),(0,l.j4)(o.Z,{"should-show":e.shouldShow,onClose:n[0]||(n[0]=function(e){return a("update:shouldShow",!1)})},{default:(0,l.w5)((function(){return[e.order&&(0,l.SU)(s)?((0,l.wg)(),(0,l.iD)("div",d,[(0,l._)("p",i,' Update order status to "'+(0,l.zw)((0,l.SU)(s).value)+'"? ',1),(0,l._)("p",c,(0,l.zw)((0,l.SU)(s).message),1),(0,l._)("button",{class:"bg-amber-500 py-2 mt-8 text-white rounded-md w-full",disabled:r.value,type:"button",onClick:v},[r.value?((0,l.wg)(),(0,l.iD)("span",f)):((0,l.wg)(),(0,l.iD)("span",h," Confirm "))],8,p)])):(0,l.kq)("",!0)]})),_:1},8,["should-show"])}}};var v={key:0,class:"py-8 flex justify-center w-80"},m=[(0,l._)("div",{class:"w-8 h-8 border-4 border-amber-500 border-b-transparent rounded-full animate-spin"},null,-1)],b={key:1,class:"px-4 py-8 max-w-lg"},x={class:"mb-4"},g=(0,l._)("p",{class:"text-slate-500"},"Order placed on:",-1),y={class:"text-2xl text-slate-900"},_=(0,l._)("p",{class:"text-gray-500"},"Products:",-1),k=(0,l._)("tr",null,[(0,l._)("th",{class:"text-left px-4 py-2"},"Id"),(0,l._)("th",{class:"text-left px-4 py-2"},"Title"),(0,l._)("th",{class:"text-left px-4 py-2"},"Price"),(0,l._)("th",{class:"text-left px-4 py-2"},"Quantity")],-1),S={class:"py-2 px-4 border-amber-500 border-y"},D={class:"py-2 px-4 border-amber-500 border-y"},U={class:"py-2 px-4 border-amber-500 border-y"},C={class:"py-2 px-4 border-amber-500 border-y"};const z={name:"ViewOrderModal",props:{shouldShow:{type:Boolean,default:!1},orderId:{type:Number,default:null}},emits:["update:shouldShow"],setup:function(e,t){var a=t.emit,n=e,s=(0,l.iH)(!0),d=(0,u.ZP)(),i=(0,l.iH)(null);return(0,l.YP)((function(){return n.shouldShow}),(function(e){var t;n.orderId&&n.orderId!==(null===(t=i.value)||void 0===t?void 0:t.id)&&e&&(s.value=!0,d.get("/api/order/".concat(n.orderId)).then((function(e){i.value=e.data,s.value=!1})))})),function(t,n){return(0,l.wg)(),(0,l.j4)(o.Z,{"should-show":e.shouldShow,onClose:n[0]||(n[0]=function(e){return a("update:shouldShow",!1)})},{default:(0,l.w5)((function(){return[s.value?((0,l.wg)(),(0,l.iD)("div",v,m)):((0,l.wg)(),(0,l.iD)("div",b,[(0,l._)("div",x,[g,(0,l._)("h4",y,(0,l.zw)((0,l.SU)(r.p)(i.value.created_at)),1)]),_,(0,l._)("table",null,[k,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.value.order_items,(function(e,t){return(0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",S,(0,l.zw)(e.product.id),1),(0,l._)("td",D,(0,l.zw)(e.product.title),1),(0,l._)("td",U,"$"+(0,l.zw)(e.product.price),1),(0,l._)("td",C,(0,l.zw)(e.quantity),1)])})),128))])]))]})),_:1},8,["should-show"])}}};var q={key:0},H=(0,l._)("h5",{class:"text-xl text-slate-900 text-left mx-12"},"Orders:",-1),j={class:"flex justify-end mb-4 space-x-4 px-12"},W=["disabled"],P=(0,l.Uk)(" Update Status "),O=["disabled"],Z=(0,l.Uk)(" View "),G={class:"grid mb-8"},I=(0,l._)("div",{class:"col-start-1 row-start-1 h-16 bg-slate-200"},null,-1),N={class:"mx-12 col-start-1 row-start-1"},T=(0,l._)("tr",{class:"text-slate-900 h-16 px-12"},[(0,l._)("th",null,"ID"),(0,l._)("th",{class:"text-left px-4"},"Price"),(0,l._)("th",{class:"text-left px-4"},"Created On"),(0,l._)("th",{class:"text-left px-4"},"Email"),(0,l._)("th",null,"Status")],-1),M=["onClick"],B={class:"w-12 text-center py-2"},R={key:1,class:"text-slate-900"},Y={class:"px-4 py-2"},K={class:"px-4 py-2"},A={class:"px-4 py-2"},E={class:"px-4 py-2 capitalize"};const V={name:"OrdersTable",props:{orders:{type:Object,default:null}},emits:["refetch-requested"],setup:function(e,t){var a=t.emit,o=(0,l.iH)(null),u=(0,l.iH)(!1),d=(0,l.iH)(!1);function i(){d.value=!1,o.value=null,a("refetch-requested")}return function(t,c){var p;return e.orders?((0,l.wg)(),(0,l.iD)("div",q,[H,(0,l._)("div",j,[(0,l._)("button",{class:"rounded-md shadow-lg px-4 py-2 text-amber-500 disabled:opacity-50",disabled:null===o.value,onClick:c[0]||(c[0]=function(e){return d.value=!0})},[P,(0,l.Wm)((0,l.SU)(s.GN),{icon:"fa fa-pen"})],8,W),(0,l._)("button",{class:"rounded-md shadow-lg px-4 py-2 text-slate-500 disabled:opacity-50",disabled:null===o.value,onClick:c[1]||(c[1]=function(e){return u.value=!0})},[Z,(0,l.Wm)((0,l.SU)(s.GN),{icon:"fa fa-expand"})],8,O)]),(0,l._)("div",G,[I,(0,l._)("table",N,[T,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.orders.data,(function(e,t){return(0,l.wg)(),(0,l.iD)("tr",{key:t,class:(0,l.C_)(["hover:bg-slate-100 cursor-pointer border-b",o.value===e?"border-transparent bg-slate-100 shadow rounded":"border-amber-500"]),onClick:function(t){return o.value=e}},[(0,l._)("td",B,[o.value===e?((0,l.wg)(),(0,l.j4)((0,l.SU)(s.GN),{key:0,class:"text-slate-500",icon:"fa fa-check-square"})):((0,l.wg)(),(0,l.iD)("span",R,(0,l.zw)(e.id),1))]),(0,l._)("td",Y,(0,l.zw)((0,l.SU)(r.T)(e.total_price)),1),(0,l._)("td",K,(0,l.zw)((0,l.SU)(r.p)(e.created_at)),1),(0,l._)("td",A,(0,l.zw)(e.user.email),1),(0,l._)("td",E,(0,l.zw)(e.status),1)],10,M)})),128))])]),(0,l.Wm)(n.Z,{"pagination-data":e.orders,onRefetchRequested:c[2]||(c[2]=function(e){return a("refetch-requested",e)})},null,8,["pagination-data"]),(0,l.Wm)(z,{"order-id":null===(p=o.value)||void 0===p?void 0:p.id,"should-show":u.value,"onUpdate:should-show":c[3]||(c[3]=function(e){return u.value=e})},null,8,["order-id","should-show"]),(0,l.Wm)(w,{order:o.value,"should-show":d.value,"onUpdate:should-show":c[4]||(c[4]=function(e){return d.value=e}),onSuccess:i},null,8,["order","should-show"])])):(0,l.kq)("",!0)}}};var $={class:"mt-8 py-8 w-11/12 lg:w-3/4 mx-auto bg-white rounded-md shadow"},F=(0,l._)("h4",{class:"font-semibold text-2xl mb-12 px-12"}," Customer Service Manager ",-1);const L={name:"CustomerServiceManager",setup:function(e){var t=(0,l.iH)(null),a=(0,u.ZP)();function n(e){a.authGet(null!=e?e:"/api/order/all").then((function(e){t.value=e.data}))}return n(),function(e,a){return(0,l.wg)(),(0,l.iD)("div",$,[F,(0,l.Wm)(V,{orders:t.value,onRefetchRequested:n},null,8,["orders"])])}}}}}]);