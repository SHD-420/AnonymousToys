"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[606],{4174:(e,t,n)=>{n.d(t,{c7:()=>o,j_:()=>a,lm:()=>r});var a={PRODUCT_CREATED:{type:"success",message:"Producto creado con éxito"},PRODUCT_UPDATED:{type:"success",message:"¡Actualizó con éxito los datos del producto!"},PRODUCT_DELETED:{type:"success",message:"¡Eliminado el producto con éxito!"},CAROUSEL_IMAGE_CREATED:{type:"success",message:"¡Artículo agregado!"},CAROUSEL_IMAGE_DELETED:{type:"success",message:"¡Artículo eliminado con éxito!"},CAROUSEL_IMAGE_UPDATED:{type:"success",message:"¡Artículo actualizado con éxito!"},STAFF_CREATED:{type:"success",message:"¡Personal creado con éxito!"},STAFF_UPDATED:{type:"success",message:"¡El personal se actualizó con éxito!"},STAFF_DELETED:{type:"success",message:"¡Personal creado con éxito!"},LOGIN_SUCCESS:{type:"success",message:"¡Ingresó exitosamente!"},ADMIN_REGISTERED:{type:"success",message:"¡Administrador registrado con éxito!"},GENERAL_ERROR:{type:"error",message:"¡Ocurrió un error inesperado!"},INVALID_CREDENTIALS:{type:"error",message:"Verifique sus credenciales y vuelva a intentarlo."},USER_EXISTS:{type:"error",message:"Este correo electrónico ha sido tomado."}};function l(e){window.dispatchEvent(new CustomEvent("notificationreq",{detail:e}))}function r(){return{fire:l}}var o=l},5345:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(8222),l=n(7810),r={key:0},o=(0,a._)("p",{class:"my-2 text-slate-500"},"Haga clic para cambiar la imagen",-1),u=["src"],s=["onClick"],i=["onDrop"],c={class:"text-xl mb-1 text-slate-500"},d=(0,a._)("p",{class:"text-slate-500 mb-2"},"Suelta un archivo o",-1),m={inheritAttrs:!1};const p=Object.assign(m,{name:"BaseImageInput",props:{label:{type:String,required:!0},modelValue:{type:Blob,default:null},defaultSrc:{type:String,default:null},isInvalid:{type:Boolean,default:!1}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,m=e,p=(0,a.l1)(),f=Object.fromEntries(["drag","dragstart","dragend","dragover","dragenter","dragleave"].map((function(e){return[e,function(e){e.preventDefault(),e.stopPropagation()}]}))),g=(0,a.iH)(null),b=(0,a.iH)(!1);function v(e){if(e&&e.type.startsWith("image")){n("update:modelValue",e);var t=new FileReader;t.readAsDataURL(e),t.addEventListener("load",(function(e){g.value=e.target.result}))}}function y(e){var t;b.value=!1,v(null===(t=e.dataTransfer.files)||void 0===t?void 0:t[0])}function h(e){v(e.target.files[0])}function w(){n("update:modelValue",null),g.value=m.defaultSrc}return(0,a.YP)((function(){return m.modelValue}),(function(e){return e&&v(e)})),function(t,n){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.wy)((0,a._)("input",{type:"file",ref:"inputEl",onChange:h},null,544),[[a.F8,!1]]),(0,a._)("label",{class:(0,a.C_)(["py-1 px-2 rounded-t-md text-white",e.isInvalid?"bg-red-600":"bg-amber-500"])},(0,a.zw)(e.label),3),g.value||e.defaultSrc?((0,a.wg)(),(0,a.iD)("div",r,[o,(0,a._)("img",(0,a.dG)({src:g.value||e.defaultSrc},(0,a.SU)(p),{onClick:n[0]||(n[0]=function(e){return t.$refs.inputEl.click()})}),null,16,u),e.modelValue?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:(0,a.iM)(w,["prevent","stop"]),class:"py-1 text-amber-500 px-2 border border-amber-500 rounded-md mt-2"}," Quita la imagen ",8,s)):(0,a.kq)("",!0)])):((0,a.wg)(),(0,a.iD)("div",(0,a.dG)({key:1,class:["py-8 flex flex-col items-center rounded-b-md shadow bg-slate-100 ring-slate-200",[e.isInvalid?"bg-red-50":"bg-slate-100",{"ring-2":b.value}]],onDrop:(0,a.iM)(y,["prevent","stop"]),onDragover:n[2]||(n[2]=function(e){return b.value=!0}),onDragleave:n[3]||(n[3]=function(e){return b.value=!1})},(0,a.mx)((0,a.SU)(f))),[(0,a._)("p",c,[(0,a.Wm)((0,a.SU)(l.GN),{icon:"fa fa-upload"})]),d,(0,a._)("button",{class:"text-amber-500 hover:underline",onClick:n[1]||(n[1]=(0,a.iM)((function(e){return t.$refs.inputEl.click()}),["prevent"]))}," Haga clic para navegar ")],16,i))])}}})},6846:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(8222),l=n(7810),r={key:0,class:"z-20 bg-white mx-auto my-8 shadow-xl rounded-md overflow-hidden max-w-lg h-max"},o={class:"flex justify-end"};const u={name:"BaseModal",props:{shouldShow:{type:Boolean,default:!1}},emits:["close"],setup:function(e,t){var n=t.emit,u=e,s=(0,a.iH)(!1),i=(0,a.iH)(0);return(0,a.YP)((function(){return u.shouldShow}),(function(e){e&&(i.value=document.body.scrollHeight)})),function(t,u){return(0,a.wg)(),(0,a.j4)(a.lR,{to:"#app-modals"},[(0,a.Wm)(a.uT,{name:"modal",onAfterEnter:u[2]||(u[2]=function(e){return s.value=!0})},{default:(0,a.w5)((function(){return[e.shouldShow?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"bg-gradient-to-b from-transparent to-slate-100 grid",style:(0,a.j5)({height:"".concat(i.value,"px")})},[(0,a.Wm)(a.uT,{name:"modal",onAfterLeave:u[1]||(u[1]=function(e){return n("close")})},{default:(0,a.w5)((function(){return[s.value?((0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",o,[(0,a._)("button",{class:"text-xl text-slate-900 p-4",onClick:u[0]||(u[0]=function(e){return s.value=!1})},[(0,a.Wm)((0,a.SU)(l.GN),{icon:"fa fa-times"})])]),(0,a.WI)(t.$slots,"default")])):(0,a.kq)("",!0)]})),_:3})],4)):(0,a.kq)("",!0)]})),_:3})])}}}},752:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(8222);const l={name:"BaseTextField",props:{modelValue:{type:String,default:""},label:{type:String,default:""},isTextArea:{type:Boolean,default:!1},type:{type:String,default:"text"},min:{type:Number,default:null},max:{type:Number,default:null},isInvalid:{type:Boolean,default:!1}},emits:["update:modelValue"],setup:function(e){var t=e.isTextArea?"textarea":"input",n=(0,a.iH)(!1);return function(l,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,a.C_)(["grid rounded-md border-t border-b-2 px-4 py-1",e.isInvalid?"border-red-600 bg-red-50":"border-amber-500 bg-slate-100"])},[((0,a.wg)(),(0,a.j4)((0,a.LL)((0,a.SU)(t)),{rows:"5",class:"row-start-1 col-start-1 bg-transparent focus:outline-none resize-none",type:e.type,minlength:e.min,maxlength:e.max,value:e.modelValue,onInput:r[0]||(r[0]=function(e){return l.$emit("update:modelValue",e.target.value)}),onFocus:r[1]||(r[1]=function(e){return n.value=!0}),onBlur:r[2]||(r[2]=function(e){return n.value=!1})},null,40,["type","minlength","maxlength","value"])),(0,a._)("p",{class:(0,a.C_)([{"scale-75 -translate-y-6 -translate-x-2 opacity-100":n.value||e.modelValue.length},"pointer-events-none origin-top-left col-start-1 row-start-1 duration-200 opacity-50"])},(0,a.zw)(e.label),3)],2)}}}},606:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var a=n(8222),l=n(4318),r=n(752),o=n(5345),u=n(6846),s=n(4174);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,l,r=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){u=!0,l=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw l}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var d=["onSubmit"],m={class:"space-y-8 w-80"},p=["disabled"],f={key:0,class:"h-4 block w-4 border-2 my-1 rounded-full border-b-transparent border-white animate-spin mx-auto"},g={key:1};const b={name:"AddModal",props:{shouldShow:{type:Boolean,default:!1}},emits:["update:shouldShow","item-added"],setup:function(e,t){var n=t.emit,c=(0,a.qj)({image:null,description:""}),b=(0,a.qj)(new Set),v=(0,a.iH)(!1),y=(0,l.ZP)();function h(){b.clear(),Object.entries(c).forEach((function(e){var t=i(e,2),n=t[0];return t[1]||b.add(n)})),b.size||(v.value=!0,y.postMultipart("/api/carousel/create",c).then((function(e){"success"===e.data.message&&(c.image=null,c.description="",n("update:shouldShow",!1),n("item-added"),(0,s.c7)(s.j_.CAROUSEL_IMAGE_CREATED))})).catch((function(e){console.log(e.response),(0,s.c7)(s.j_.GENERAL_ERROR)})).finally((function(){return v.value=!1})))}return function(t,l){return(0,a.wg)(),(0,a.j4)(u.Z,{"should-show":e.shouldShow,onClose:l[2]||(l[2]=function(e){return n("update:shouldShow",!1)})},{default:(0,a.w5)((function(){return[(0,a._)("form",{class:"px-4 pb-8",onSubmit:(0,a.iM)(h,["prevent"])},[(0,a._)("div",m,[(0,a.Wm)(o.Z,{"is-invalid":b.has("image"),modelValue:c.image,"onUpdate:modelValue":l[0]||(l[0]=function(e){return c.image=e}),class:"w-full h-40 object-cover",label:"Image"},null,8,["is-invalid","modelValue"]),(0,a.Wm)(r.Z,{"is-invalid":b.has("description"),modelValue:c.description,"onUpdate:modelValue":l[1]||(l[1]=function(e){return c.description=e}),label:"Description","is-text-area":""},null,8,["is-invalid","modelValue"])]),(0,a._)("button",{class:"bg-amber-500 py-2 mt-8 text-white rounded-md w-full",disabled:v.value,type:"submit"},[v.value?((0,a.wg)(),(0,a.iD)("span",f)):((0,a.wg)(),(0,a.iD)("span",g," Create "))],8,p)],40,d)]})),_:1},8,["should-show"])}}};var v=n(2674),y={class:"px-4 pb-8 max-w-xs"},h=(0,a._)("p",{class:"text-slate-900 mb-8 text-center"}," Are you sure you want to delete that item? ",-1),w=["disabled"],x={key:0,class:"h-4 block w-4 border-2 my-1 rounded-full border-b-transparent border-white animate-spin mx-auto"},E={key:1};const _={name:"RemoveModal",props:{carouselImageId:{type:Number,default:null}},emits:["cancel","success"],setup:function(e,t){var n=t.emit,r=e,o=(0,a.iH)(!1),i=(0,l.ZP)();function c(){r.carouselImageId&&(o.value=!0,i.authDelete("/api/carousel/".concat(r.carouselImageId)).then((function(e){"success"===e.data.message&&(n("success"),(0,s.c7)(s.j_.CAROUSEL_IMAGE_DELETED))})).catch((function(e){console.log(e.response),(0,s.c7)(s.j_.GENERAL_ERROR)})).finally((function(){return o.value=!1})))}return function(t,l){return(0,a.wg)(),(0,a.j4)(u.Z,{shouldShow:!!e.carouselImageId,onClose:l[0]||(l[0]=function(e){return n("cancel")})},{default:(0,a.w5)((function(){return[(0,a._)("div",y,[h,(0,a._)("button",{onClick:c,class:"bg-amber-500 py-2 text-white rounded-md w-full",disabled:o.value,type:"submit"},[o.value?((0,a.wg)(),(0,a.iD)("span",x)):((0,a.wg)(),(0,a.iD)("span",E," Yes "))],8,w)])]})),_:1},8,["shouldShow"])}}};var D=["onSubmit"],S={class:"space-y-8"},A=["disabled"],C={key:0,class:"h-4 block w-4 border-2 my-1 rounded-full border-b-transparent border-white animate-spin mx-auto"},I={key:1};const k={name:"EditModal",props:{carouselImageObj:{type:Object,default:null}},emits:["cancel","success"],setup:function(e,t){var n=t.emit,i=e,c=(0,a.qj)({image:null,description:""}),d=(0,a.iH)(!1),m=(0,a.iH)(null),p=(0,a.qj)(new Set),f=(0,l.ZP)();function g(){if(i.carouselImageObj){if(p.clear(),c.description||p.add("description"),p.size)return;d.value=!0,f.postMultipart("/api/carousel/update/".concat(i.carouselImageObj.id),c).then((function(e){"success"===e.data.message&&(n("success"),(0,s.c7)(s.j_.CAROUSEL_IMAGE_UPDATED))})).catch((function(e){console.log(e.response),(0,s.c7)(s.j_.GENERAL_ERROR)})).finally((function(){return d.value=!1}))}}return(0,a.YP)((function(){return i.carouselImageObj}),(function(e){e&&(m.value=e.image_url,c.description=e.description,c.image=null)})),function(t,l){return(0,a.wg)(),(0,a.j4)(u.Z,{"should-show":!!e.carouselImageObj,onClose:l[2]||(l[2]=function(e){return n("cancel")})},{default:(0,a.w5)((function(){return[(0,a._)("form",{class:"px-4 pb-8",onSubmit:(0,a.iM)(g,["prevent"])},[(0,a._)("div",S,[(0,a.Wm)(o.Z,{"default-src":m.value,class:"w-full h-40 object-cover",label:"Image",modelValue:c.image,"onUpdate:modelValue":l[0]||(l[0]=function(e){return c.image=e})},null,8,["default-src","modelValue"]),(0,a.Wm)(r.Z,{modelValue:c.description,"onUpdate:modelValue":l[1]||(l[1]=function(e){return c.description=e}),label:"Description","is-text-area":""},null,8,["modelValue"])]),(0,a._)("button",{class:"bg-amber-500 py-2 mt-8 text-white rounded-md w-full",disabled:d.value,type:"submit"},[d.value?((0,a.wg)(),(0,a.iD)("span",C)):((0,a.wg)(),(0,a.iD)("span",I," Update "))],8,A)],40,D)]})),_:1},8,["should-show"])}}};var R={class:"mt-8 py-8 w-11/12 lg:w-3/4 mx-auto bg-white rounded-md shadow"},j={class:"px-12"},T=(0,a._)("h4",{class:"font-semibold mb-8 text-2xl"},"Image Carousel Manager",-1),U={key:0,class:"py-8 flex justify-center"},O=[(0,a._)("div",{class:"w-8 h-8 border-4 border-amber-500 border-b-transparent rounded-full animate-spin"},null,-1)],V={key:1},L={key:0,class:"grid grid-cols-2 gap-4 mb-4"},M={class:"text-slate-900 text-center mb-4"},H={class:"col-start-2 flex justify-center space-x-2"},P=["onClick"],G=["onClick"],Z={key:1,class:"p-4 text-center bg-slate-100 rounded-md shadow text-slate-900"};const N={name:"CarouselManager",setup:function(e){var t=(0,l.ZP)(),n=(0,a.iH)(!0),r=(0,a.iH)([]),o=function(){t.get("/api/carousel").then((function(e){n.value=!1,r.value=e.data}))};o();var u=(0,a.iH)(!1),s=(0,a.iH)(null),i=(0,a.iH)(null);function c(){r.value=r.value.filter((function(e){return e.id!==s.value})),s.value=null}function d(){i.value=null,o()}return function(e,t){return(0,a.wg)(),(0,a.iD)("div",R,[(0,a._)("div",j,[T,n.value?((0,a.wg)(),(0,a.iD)("div",U,O)):((0,a.wg)(),(0,a.iD)("div",V,[r.value.length?((0,a.wg)(),(0,a.iD)("ul",L,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.value,(function(e,t){return(0,a.wg)(),(0,a.iD)("li",{key:t,class:"px-4 rounded-md shadow py-8"},[(0,a.Wm)(v.Z,{src:e.image_url,class:"w-full h-40 object-cover rounded-md","is-external":""},null,8,["src"]),(0,a._)("div",M,(0,a.zw)(e.description),1),(0,a._)("div",H,[(0,a._)("button",{class:"px-2 py-1 border border-amber-500 rounded-md text-amber-500",onClick:function(t){return s.value=e.id}}," Remove ",8,P),(0,a._)("button",{class:"px-2 py-1 border border-amber-500 rounded-md text-amber-500",onClick:function(t){return i.value=e}}," Edit ",8,G)])])})),128))])):((0,a.wg)(),(0,a.iD)("p",Z," Ningún elemento para mostrar aquí ")),(0,a._)("button",{class:"py-2 px-8 bg-amber-500 text-white mt-8 rounded-md",onClick:t[0]||(t[0]=function(e){return u.value=!0})}," Add an item ")]))]),(0,a.Wm)(b,{"should-show":u.value,"onUpdate:should-show":t[1]||(t[1]=function(e){return u.value=e}),onItemAdded:o},null,8,["should-show"]),(0,a.Wm)(_,{"carousel-image-id":s.value,onCancel:t[2]||(t[2]=function(e){return s.value=null}),onSuccess:c},null,8,["carousel-image-id"]),(0,a.Wm)(k,{"carousel-image-obj":i.value,onCancel:t[3]||(t[3]=function(e){return i.value=null}),onSuccess:d},null,8,["carousel-image-obj"])])}}}}}]);